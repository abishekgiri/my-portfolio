{% extends "base.html" %}

{% block title %}Work | Abishek{% endblock %}

{% block content %}

<section class="section">
  <div class="section-head">
    <div>
      <h1 class="display-text text-xl">All Works</h1>
      <p class="sub-text" style="max-width: 600px;">A comprehensive archive of experiments, open source contributions,
        and
        production systems.</p>
    </div>
  </div>
</section>

<!-- Loop through Categories -->
{% for category, projects in grouped_projects.items() %}
{% if projects %}
<section class="section">
  <div class="section-head">
    <div class="section-title">
      <h2 class="display-text text-lg" style="color: var(--color-indigo);">{{ category }}</h2>
      <span class="count-pill">{{ projects|length }} Projects</span>
    </div>
  </div>

  <div class="cards-grid">
    {% for project in projects %}
    <a href="{{ project.link }}" target="_blank" rel="noopener noreferrer" class="bento-card"
      style="text-decoration: none; min-height: 280px; display: flex; flex-direction: column;">
      <div style="margin-bottom: 24px;">
        <h3 class="display-text text-md" style="color: var(--text-main);">{{ project.title }}</h3>
      </div>

      <p class="sub-text" style="margin-bottom: 24px; flex-grow: 1;">{{ project.description }}</p>

      <div
        style="border-top: 1px solid rgba(15, 23, 42, 0.08); padding-top: 16px; margin-top: auto; display: flex; justify-content: space-between; align-items: center;">
        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
          {% for tag in project.tags[:3] %}
          <span style="font-size: 0.75rem; color: var(--text-muted);">{{ tag }}</span>
          {% endfor %}
        </div>
        <span style="color: var(--color-indigo);">â†—</span>
      </div>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}
{% endfor %}

{% endblock %}
